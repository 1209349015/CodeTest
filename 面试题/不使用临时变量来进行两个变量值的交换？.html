<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>不使用临时变量来进行两个变量值的交换？</title>
</head>
<body>
    <pre>
    //方法一
    var foo = 1; bar =2;
    bar = [foo,foo=bar][0];
    console.log(foo);
    console.log(bar);

    //方法二，ES6结构
    let a = 1,
    b = 2;
    [a, b] = [b, a];
    console.log(a,b)

    //方法三，算术运算
    //通过算术运算过程中的技巧，可以巧妙地将两个值进行互换。但是，有个缺点就是变量数据溢出。
    //因为JavaScript能存储数字的精度范围是 -253 到 253。所以，加法运算，会存在溢出的问题。
    var a = 1,
    b = 2;
    a = a + b; // a = 3, b = 2
    b = a - b; // a = 3, b = 1
    a = a - b; // a = 2, b = 1

    //方法四，异或运算
    //本题巧用位运算的技巧，利用 a ^ b ^ b == a 的特点，进行数值交换，避免了使用算术运算带来的弊端，不会发生溢出问题。
    var a = 1, // 二进制：0001
    b = 2; // 二进制：0010
    a = a ^ b; // 计算结果：a = 0011, b = 0010
    b = a ^ b; // 计算结果：a = 0011, b = 0001
    a = a ^ b; // 计算结果：a = 0010, b = 0001
    </pre>
</body>
<script>
    //方法一
    var foo = 1; bar =2;
    bar = [foo,foo=bar][0];
    console.log(foo);
    console.log(bar);

    //方法二，ES6结构
    let a = 1,
    b = 2;
    [a, b] = [b, a];
    console.log(a,b)

    //方法三，算术运算
    //通过算术运算过程中的技巧，可以巧妙地将两个值进行互换。但是，有个缺点就是变量数据溢出。
    //因为JavaScript能存储数字的精度范围是 -253 到 253。所以，加法运算，会存在溢出的问题。
    var a = 1,
    b = 2;
    a = a + b; // a = 3, b = 2
    b = a - b; // a = 3, b = 1
    a = a - b; // a = 2, b = 1

    //方法四，异或运算
    //本题巧用位运算的技巧，利用 a ^ b ^ b == a 的特点，进行数值交换，避免了使用算术运算带来的弊端，不会发生溢出问题。
    var a = 1, // 二进制：0001
    b = 2; // 二进制：0010
    a = a ^ b; // 计算结果：a = 0011, b = 0010
    b = a ^ b; // 计算结果：a = 0011, b = 0001
    a = a ^ b; // 计算结果：a = 0010, b = 0001
</script>
</html>